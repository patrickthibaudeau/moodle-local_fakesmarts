define("local_fakesmarts/gpt",["exports","jquery","core/ajax"],(function(_exports,_jquery,_ajax){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax);_exports.init=()=>{(0,_jquery.default)("#submit-question").off(),(0,_jquery.default)("#submit-question").on("click",(function(){var bot_id=(0,_jquery.default)(this).data("bot_id"),prompt=(0,_jquery.default)("#user-prompt").val(),content=(0,_jquery.default)("#fakesmarts-test-input").val(),chat_id=(0,_jquery.default)("#fakesmarts-chat-id").val();(0,_jquery.default)("#submit-question").hide(),(0,_jquery.default)("#starting-process").show(),_ajax.default.call([{methodname:"fakesmarts_get_gpt_response",args:{bot_id:bot_id,chat_id:chat_id,prompt:prompt,content:content}}])[0].done((function(result){let data=JSON.parse(result);(0,_jquery.default)("#submit-question").show(),(0,_jquery.default)("#starting-process").hide(),(0,_jquery.default)("#fakesmarts-conversation").append().html("<p> ".concat(data.message,"</p>")),(0,_jquery.default)("#fakesmarts-prompt-tokens").html(data.prompt_tokens),(0,_jquery.default)("#fakesmarts-completion-tokens").html(data.completion_tokens),(0,_jquery.default)("#fakesmarts-total-tokens").html(data.total_tokens),(0,_jquery.default)("#fakesmarts-cost").html("$"+data.cost.toPrecision(6))})).fail((function(){alert("An error has occurred.")}))}))}}));

//# sourceMappingURL=gpt.min.js.map